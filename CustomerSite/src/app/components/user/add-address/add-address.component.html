<!-- Add Address Form -->
<section class="py-5 section-register padding-tb-50">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div
          class="section-title bb-center"
          data-aos="fade-up"
          data-aos-duration="1000"
          data-aos-delay="200"
        >
          <div class="section-detail text-center mb-4">
            <h2 class="bb-title"><span>Add Address</span></h2>
            <p>Enter your shipping address details below</p>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div
          class="bb-register"
          data-aos="fade-up"
          data-aos-duration="1000"
          data-aos-delay="200"
        >
          <div class="col-12">
            <form [formGroup]="addAddressForm" (ngSubmit)="onSubmit()">
              <div class="row">
                <div class="col-md-6 col-12 mb-3">
                  <label>Full Name*</label>
                  <input
                    type="text"
                    autocomplete="on"
                    formControlName="fullName"
                    placeholder="Enter your full name"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('fullName')?.invalid &&
                        addAddressForm.get('fullName')?.touched
                    }"
                  />
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('fullName')?.invalid &&
                      addAddressForm.get('fullName')?.touched
                    "
                  >
                    Full Name is required.
                  </div>
                </div>

                <div class="col-md-6 col-12 mb-3">
                  <label>Phone Number*</label>
                  <input
                    type="text"
                    autocomplete="on"
                    formControlName="phoneNumber"
                    placeholder="Enter your phone number"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('phoneNumber')?.invalid &&
                        addAddressForm.get('phoneNumber')?.touched
                    }"
                  />
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('phoneNumber')?.invalid &&
                      addAddressForm.get('phoneNumber')?.touched
                    "
                  >
                    Phone Number is required.
                  </div>
                </div>

                <div class="col-md-6 col-12 mb-3">
                  <label>Region*</label>
                  <input
                    type="text"
                    autocomplete="on"
                    formControlName="region"
                    placeholder="Enter your region"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('region')?.invalid &&
                        addAddressForm.get('region')?.touched
                    }"
                  />
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('region')?.invalid &&
                      addAddressForm.get('region')?.touched
                    "
                  >
                    Region is required.
                  </div>
                </div>

                <div class="col-md-6 col-12 mb-3">
                  <label>City*</label>
                  <select
                    formControlName="city"
                    placeholder="Enter your city"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('city')?.invalid &&
                        addAddressForm.get('city')?.touched
                    }"
                  >
                    <option value="" selected disabled>Select City</option>
                    <option
                      *ngFor="let city of shipingAddresses"
                      [value]="city.name"
                    >
                      {{ city.name }}
                    </option>
                  </select>
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('city')?.invalid &&
                      addAddressForm.get('city')?.touched
                    "
                  >
                    City is required.
                  </div>
                </div>

                <div class="col-md-6 col-12 mb-3">
                  <label>Country*</label>
                  <input
                    type="text"
                    autocomplete="on"
                    formControlName="country"
                    placeholder="Enter your country"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('country')?.invalid &&
                        addAddressForm.get('country')?.touched
                    }"
                  />
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('country')?.invalid &&
                      addAddressForm.get('country')?.touched
                    "
                  >
                    Country is required.
                  </div>
                </div>

                <div class="col-md-6 col-12 mb-3">
                  <label>Address Details*</label>
                  <textarea
                    formControlName="addressDetails"
                    placeholder="Enter your address details"
                    class="form-control"
                    rows="3"
                    type="text"
                    autocomplete="on"
                    [ngClass]="{
                      'is-invalid':
                        addAddressForm.get('addressDetails')?.invalid &&
                        addAddressForm.get('addressDetails')?.touched
                    }"
                  ></textarea>
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      addAddressForm.get('addressDetails')?.invalid &&
                      addAddressForm.get('addressDetails')?.touched
                    "
                  >
                    Address Details are required.
                  </div>
                </div>
              </div>

              <div class="d-flex gap-3 flex-column flex-sm-row mb-5 mt-3">
                <button class="btn btn-primary flex-fill" type="submit">
                  <span *ngIf="isLoading">
                    <i class="fas fa-spinner fa-spin"></i>
                  </span>
                  <span *ngIf="!isLoading">Add New Address</span>
                </button>
                <button
                class="btn btn-outline-secondary flex-fill"
                  routerLink="/profile"
                  type="button"
                >
                  <span>Back</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End Add Address Form -->
