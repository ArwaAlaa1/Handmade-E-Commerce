<!-- Register -->
<section class="section-register padding-tb-50">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div
          class="bb-register"
          data-aos="fade-up"
          data-aos-duration="1000"
          data-aos-delay="200"
        >
          <div class="row">
            <div
              class="bb-register"
              data-aos="fade-up"
              data-aos-duration="1000"
              data-aos-delay="200"
            >
              <div class="row">
                <div class="col-12">
                  <div class="section-title bb-center">
                    <div class="section-detail">
                      <h2 class="bb-title">Register</h2>
                      <p>Best place to buy and sell HandMade products</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12">
            <div *ngIf="errorMessage" class="text-center alert alert-danger">
              {{ errorMessage }}
            </div>
            <form [formGroup]="RegisterForm" (ngSubmit)="onSubmit()">
              <div class="bb-register-wrap bb-register-width-50">
                <label>Display Name*</label>
                <input
                  id="displayName"
                  name="displayName"
                  formControlName="displayName"
                  type="text"
                  placeholder="Enter Display Name"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid':
                      f['displayName'].invalid && f['displayName'].touched
                  }"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="f['displayName'].invalid && f['displayName'].touched"
                >
                  <div *ngIf="f['displayName'].errors?.['required']">
                    Display Name is required.
                  </div>
                </div>
              </div>

              <div class="bb-register-wrap bb-register-width-50">
                <label>User Name*</label>
                <input
                  type="text"
                  id="userName"
                  name="userName"
                  formControlName="userName"
                  placeholder="Enter your User name"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': f['userName'].invalid && f['userName'].touched
                  }"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="f['userName'].invalid && f['userName'].touched"
                >
                  <div *ngIf="f['userName'].errors?.['required']">
                    User Name is required.
                  </div>
                  <div *ngIf="f['userName'].errors?.['pattern']">
                    User Name Can't contain white spaces.
                  </div>
                </div>
              </div>

              <div class="bb-register-wrap bb-register-width-50">
                <label for="email">Email*:</label>
                <input
                  id="email"
                  name="email"
                  formControlName="email"
                  placeholder="Enter Your Email"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': f['email'].invalid && f['email'].touched
                  }"
                />

                <div
                  *ngIf="f['email'].invalid && f['email'].touched"
                  class="invalid-feedback"
                >
                  <div *ngIf="f['email'].errors?.['required']">
                    Email is required.
                  </div>
                  <div *ngIf="f['email'].errors?.['email']">
                    Please enter a valid email address.
                  </div>
                </div>
              </div>

              <div class="bb-register-wrap bb-register-width-50">
                <label>Phone Number*</label>
                <input
                  type="text"
                  id="phoneNumber"
                  name="phoneNumber"
                  formControlName="phoneNumber"
                  placeholder="Enter your phone number"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid':
                      f['phoneNumber'].invalid && f['phoneNumber'].touched
                  }"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="f['phoneNumber'].invalid && f['phoneNumber'].touched"
                >
                  <div *ngIf="f['phoneNumber'].errors?.['required']">
                    Phone Number is required.
                  </div>

                  <div *ngIf="f['phoneNumber'].errors?.['pattern']">
                    Phone Number Must be 11 digit.
                  </div>
                </div>
              </div>

              <div class="bb-register-wrap bb-register-width-50">
                <label for="password">Password :</label>
                <div class="input-group mb-2">
                  <input
                    id="password"
                    name="password"
                    formControlName="password"
                    placeholder="Enter your Password"
                    [type]="passwordVisible ? 'text' : 'password'"
                    autocomplete="on"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        f['password'].invalid && f['password'].touched
                    }"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary"
                    (click)="togglePasswordVisibility()"
                  >
                    <i
                      class="fas"
                      [ngClass]="passwordVisible ? 'fa-eye' : 'fa-eye-slash'"
                    ></i>
                  </button>
                  <div
                    class="invalid-feedback"
                    *ngIf="f['password'].invalid && f['password'].touched"
                  >
                    <div *ngIf="f['password'].errors?.['required']">
                      Password is required.
                    </div>
                    <div *ngIf="f['password'].errors?.['minlength']">
                      Password must be at least 8 characters long.
                    </div>
                    <div *ngIf="f['password'].errors?.['passwordStrength']">
                      Password must contain at least one lowercase, one
                      uppercase, one digit, and one special character.
                    </div>
                  </div>
                </div>
              </div>

              <div class="bb-register-wrap bb-register-width-50">
                <label for="confirmPassword"> Confirm Password :</label>
                <div class="input-group mb-2">
                  <input
                    id="confirmPassword"
                    formControlName="confirmPassword"
                    placeholder="Enter your Confirm Password"
                    [type]="confirmPasswordVisible ? 'text' : 'password'"
                    autocomplete="on"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        (f['confirmPassword'].invalid &&
                          f['confirmPassword'].touched) ||
                        RegisterForm.hasError('passwordMismatch')
                    }"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary"
                    (click)="toggleConfirmPasswordVisibility()"
                  >
                    <i
                      class="fas"
                      [ngClass]="
                        confirmPasswordVisible ? 'fa-eye' : 'fa-eye-slash'
                      "
                    ></i>
                  </button>
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      f['confirmPassword'].invalid &&
                      f['confirmPassword'].touched
                    "
                  >
                    <div *ngIf="f['confirmPassword'].errors?.['required']">
                      Confirm Password is required.
                    </div>
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      RegisterForm.hasError('confirmPassword') &&
                      f['confirmPassword'].touched
                    "
                  >
                    Passwords don't match.
                  </div>
                </div>
              </div>

              <div class="bb-register-button">
                <button class="bb-btn-2 w-100" type="submit">
                  <span *ngIf="isLoading">
                    <i class="fas fa-spinner fa-spin"></i>
                  </span>
                  <span *ngIf="!isLoading">Register</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
